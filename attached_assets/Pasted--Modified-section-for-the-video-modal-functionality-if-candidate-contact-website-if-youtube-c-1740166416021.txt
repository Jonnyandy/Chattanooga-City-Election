# Modified section for the video modal functionality
if candidate.contact.website:
    if "youtube.com" in candidate.contact.website and candidate.name == "Doll Sandridge":
        video_url = candidate.contact.website.replace('shorts/', 'embed/')
        
        # Store the modal state in session_state
        if f"show_video_{candidate.name}" not in st.session_state:
            st.session_state[f"show_video_{candidate.name}"] = False
            
        # Button to show the modal
        if st.button(f"{social_media_icon('youtube')} Watch Video", key=f"video_btn_{candidate.name}"):
            st.session_state[f"show_video_{candidate.name}"] = True
            
        # Display the modal if state is True
        if st.session_state[f"show_video_{candidate.name}"]:
            # Create a container for the modal
            modal_container = st.container()
            with modal_container:
                # Apply the modal styling
                st.markdown("""
                    <style>
                    .video-container { 
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        z-index: 1000;
                        background: white;
                        padding: 20px;
                        border-radius: 10px;
                        box-shadow: 0 0 10px rgba(0,0,0,0.5);
                        width: 80%;
                        max-width: 600px;
                    }
                    </style>
                """, unsafe_allow_html=True)
                
                # Display the video iframe
                st.markdown(f"""
                    <div class="video-container">
                        <div style="position: relative; width: 100%; padding-bottom: 75%; height: 0;">
                            <iframe 
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                                src="{video_url}" 
                                frameborder="0" 
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                """, unsafe_allow_html=True)
                
                # Add a Streamlit button to close the modal
                if st.button("Close Video", key=f"close_video_{candidate.name}"):
                    st.session_state[f"show_video_{candidate.name}"] = False
                    st.rerun()
    else:
        st.markdown(f"{social_media_icon('website')} [{candidate.contact.website}]({candidate.contact.website})")